<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GymLife| Dashboards</title>

    
    <link rel="stylesheet" href="./../css/dashboards.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!--FONT AWESOME-->
</head>

<!-- <body onload=" atualizarFeed()"> -->

<body onload="grafico1()">
    <div class="DashBoard">
        <div class="dados">
            <div class="menu">
                <div class="h2">
                    <h2>GymLife</h2>
                </div>
                    <div class="title_planilha">
                    <h4><p>VER PLANILHA DE TREINO:</p></h4>
                </div>
                <div class="planilha">
                    <a href="../Planilha_Treino.html">Planilha</a>
                </div>
                <p></p>
                <div class="sair">
                <a href="../index.html">Sair</a>
                </div>
            </div>
            <div class="kpi">
                <div class="title">
                    <h1>Olá,<b id="nomeVisitante">nome</b>, Tudo bem?</h1>
                </div>
                <div class="alerta">
                    <div class="alerta1"><p><h3>SEMANA DO AGRUPAMENTO:</h3></p>
                    </div>
                    <div class="alerta2">
                    <p><h3>AGRUPAMENTO MAIS FEITO:</h3></p>
                    </div>
                </div>
                <div class="graficos">
                    <div class="grafico1">
                        <canvas id="chartLine"></canvas>
                    </div>
                    <div class="grafico2">

                    </div>
                </div>
            </div>
        </div>
    </div>  
</body>
<script>

    const cpxline = document.getElementById("chartLine");

    function grafico1(){
        let idVisitante = document.getElementById("nomeVisitante");
            idVisitante.inneHTML =sessionStorage.NOME_USUARIO;
        
              new Chart (chartLine, {
            type:'line',
            data: {
                labels: ["Peito/Tríceps", "Costas/Bíceps", "Quadríceps", "Ombro", "Posterior/Glúteo"],
                datasets: [{
                label: 'My First Dataset',
                data: [7, 0],
                fill: false,
                colors: 'white',
                borderColor: 'grey',
                backgroundColor: 'white',
                tension: 0.2     
            }]
        }
       })

       var fkUsuario = sessionStorage.ID_USUARIO;

        fetch("/usuarios/autenticar", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                IDServer: fkUsuario
            })
        }).then(function (resposta) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados Recebidos: ${JSON.stringify(resposta)}`);

                });

            } else {

                console.log("Houve um erro ao tentar realizar o login!");

                resposta.text().then(texto => {
                    console.error(texto);
                  
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })
    }
      
    </script>
</html>

