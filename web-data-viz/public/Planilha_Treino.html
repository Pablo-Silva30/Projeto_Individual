<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="./css/Planilha_Treino.css">
    <title>Document</title>
</head>
<body>
    <header class="navbar">
        <img src="./assets/imgs/LogoHeader (2).png" alt="Logo" class="LogoHeader">
        </div>
    </header>

    <main class="planilha">
        <img src="./assets/imgs/VigaTemploEsquerdo.png" class="vigaTemplo">
        <div class="card card-Planilha">
            <h2>Monte seu treino!</h2>
            <div class="conteudo">
                <span>Qual seu nível na academia: </span>
                <select name="" id="sel_treino">
                    <option value="0">Selecione</option>
                    <option value="1">Iniciante</option>
                    <option value="2">Intermediário</option>
                    <option value="3">Experiente</option>
                </select>
            </div>
            <div class="conteudo">
                <span>Dia da semana: </span>
                <select name="" id="sel_dia">
                    <option value="0">Selecione</option>
                    <option value="Segunda-Feira">Segunda-Feira</option>
                    <option value="Terça-Feira">Terça-Feira</option>
                    <option value="3">Quarta-Feira</option>
                    <option value="4">Quinta-Feira</option>
                    <option value="5">Sexta-Feira</option>
                    <option value="6">Sábado</option>
                    <option value="7">Domingo</option>
                </select>
            </div>
                <div class="conteudo">
                <span>Qual agrupamento você vai fazer:</span>
                <select name="" id="sel_agrupamento">
                    <option value="0">Selecione</option>
                    <option value="Peito/Triceps">Peito/Triceps</option>
                    <option value="Costas/Biceps">Costas/Biceps</option>
                    <option value="Quadríceps">Quadríceps</option>
                    <option value="Posterior/Glúteo">Posterior/Glúteo</option>
                    <option value="Ombro">Ombro</option>
                </select>
            </div>
            <div class="conteudo"></div>
            <button onclick="cadastroPlanilha()" id="btnPlanilha">Salvar Treino</button>
            <button onclick="consultar()" id="btnconsultar"disabled>Consultar Treinos</button>
            <div id="div_msg"></div>
        </div>
        <img src="./assets/imgs/VigaTemploDireito (2).png" class="vigaTemplo">
    </main>
    <div class="footer">
        <img src="./assets/imgs/LogoHeader (2).png" class="logoFooter">
        <div class="container">
            <h3>Contato:</h3>
            <p>
            <h5><a>GymLife@gmail.com</a></h5>
                <p>
                    <h5>Número: <p>(11)99999-9999</p></h5>
  
    </div>
    <div class="atalhos">
        <h3>Atalhos:</h3>
        <p>
            <h5><a href="simulador.html">Simulador</a></h5>
            <p>
                <h5><a href="index.html">Home</a></h5>
                <p>
                    <h5><a href="login.html">Login</a></h5>
                    <p>
                        <h5><a href="cadastro.html">Cadastro</a></h5>
                    </div>
                </body>
<script>

        var vtNivel = [];
        var vtsemana = [];
        var vtTreino = [];

    function cadastroPlanilha(){
        var nivelAcademia = (sel_treino.value);
        var agrupamento = (sel_agrupamento.value);
        var semana = (sel_dia.value);
        var validador = false;

        div_msg.innerHTML = '';    
        if(nivelAcademia == 0 && agrupamento == 0){
            alert('Campos estão vazios!');
        }else if(nivelAcademia == 0){
            alert('Insira seu Nivel de experiencia');
        }else if(agrupamento == 0){
            alert('Insira um Agrupamento para ser feito')
        }else if(semana == 0){
            alert('Selecione um dia da semana')
        }
        else{

        for(var i = 0; i < 3000; i++){
            if(vtsemana[i] == semana && vtTreino[i] == agrupamento){
                validador = true
                div_msg.innerHTML +=`Treino: ${vtTreino[i]} já está cadastrado para a Semana: ${semana}`
                break  
            }

        }if(validador != true){
            vtsemana.push(semana);
            vtTreino.push(agrupamento);
            vtNivel.push(nivelAcademia);
            div_msg.innerHTML ='Treino da semana, cadastrado';
            btnconsultar.disabled = false 
            btnPlanilha.disabled = true;
        }
    }

     if (
      agrupamento == "" ||
      semana== "" 
    ) {
      alert('Os campos estão vazios! Para conseguir o cadastro, você precisa preecher todas as colunas.')
    }

    fetch("/usuarios/cadastroPlanilha", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        agrupamentoServer: agrupamento,
        semanaServer: semana,
        idServer: sessionStorage.ID_USUARIO
      }),
    });
}

    function consultar(){
        var nivelAcademia = (sel_treino.value);
        var agrupamento = (sel_agrupamento.value);
        var semana = (sel_dia.value);
        var validador = false;
       
        div_msg.innerHTML = '';          
        
        for(let i = 0; i < 100; i++){
            
            if(nivelAcademia == 1 && agrupamento == "Ombro" && vtTreino[i] == "Ombro"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoOmbroIniciante.jpeg" class="Ombro">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 2 && agrupamento == "Ombro" && vtTreino[i] == "Ombro"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoOmbroIntermediario.jpeg" class="Ombro">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 3 && agrupamento == "Ombro" && vtTreino[i] == "Ombro"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoOmbroExp.jpeg" class="Ombro">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
             } else if(nivelAcademia == 1 && agrupamento == 'Posterior/Glúteo' && vtTreino[i] == 'Posterior/Glúteo'){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPosteriorIniciante.jpeg" class="Posterior">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 2 && agrupamento == 'Posterior/Glúteo' && vtTreino[i] == 'Posterior/Glúteo'){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPosteriorIntermediario.jpeg" class="Posterior">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 3 && agrupamento == 'Posterior/Glúteo' && vtTreino[i] == 'Posterior/Glúteo'){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPosteriorExp.jpeg" class="Posterior">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 1 && agrupamento == "Peito/Triceps" && vtTreino[i] == "Peito/Triceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPeitoIniciante.jpeg" class="peito_triceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 2 && agrupamento == "Peito/Triceps" && vtTreino[i] == "Peito/Triceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPeitoIntermediario.jpeg" class="peito_triceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 3 && agrupamento == "Peito/Triceps" && vtTreino[i] == "Peito/Triceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoPeitoExp.jpeg" class="peito_triceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia = 1 && agrupamento == "Costas/Biceps" && vtTreino[i] == "Costas/Biceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoCostasIniciante.jpeg" class="costas_biceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 2 && agrupamento == "Costas/Biceps" && vtTreino[i] == "Costas/Biceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoCostasIntermediario.jpeg" class="costas_biceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 3 && agrupamento == "Costas/Biceps" && vtTreino[i] == "Costas/Biceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoCostasExp.jpeg" class="costas_biceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia = 1 && agrupamento == "Quadríceps" && vtTreino[i] == "Quadríceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoQuadricepsIniciante.jpeg" class="Quadriceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia == 2 && agrupamento == "Quadríceps" && vtTreino[i] == "Quadríceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoQuadricepsIntermediario.jpeg" class="Quadriceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }else if(nivelAcademia = 3 && agrupamento == "Quadríceps" && vtTreino[i] == "Quadríceps"){
                div_msg.innerHTML += `<img src="./assets/imgs/TreinoQuadricepsExp.jpeg" class="Quadriceps">
                <br>
                <a href="./dashboard/dashboard.html" class="href">Ir para a DashBoard</a>`;   
                btnPlanilha.disabled = false;
                btnconsultar.disabled = true;
                 i = 0;
                 break
            }
    }
    
}
</script>
</html>